# 零、前言

第一个虚幻引擎由 Epic Games 于 1998 年推出。这个引擎的一个很好的特性是，由于 UnrealScript，这个引擎变得非常受社区欢迎，因为它使得修改变得非常容易和容易。然后，在 2002 年，Epic 发布了他们的下一个引擎，虚幻引擎 2，这是对第一个引擎的巨大改进。它附带了一个名为 UnrealEd 2(后来称为 UnrealEd 3)的东西，本质上是一个级别编辑器，您可以使用它来为虚幻创建级别。这和 UnrealScript 一起可以用来创建全新的游戏。该引擎提供了比其前身更好的渲染、更好的物理和更好的碰撞。它还支持当时的一代游戏机，即 PlayStation 2、Xbox 和 GameCube。2006 年，Epic 发布了他们的下一个引擎，也可能是他们最受欢迎和使用最广泛的引擎，虚幻 3。就技术而言，这是一个巨大的飞跃。这就是虚幻引擎开始加速的地方。然而，也许虚幻引擎 3 提供的最重要的功能是 Kismet。Kismet 是一个非常强大的可视化脚本工具。它的工作方式是有各种各样的节点，可以连接起来形成一个逻辑序列，有点像流程图。关于 Kismet 最好的部分是你不需要任何编程知识。你可以用 Kismet 制作一个完整的游戏，而不需要写一行代码。对于艺术家和设计师来说，这是一个非常方便的工具，因为他们可以自己制作快速原型或实验某个特性，而不必依赖程序员。

我们现在来到一个更现实的时代。2012 年 2 月，Epic 发布了虚幻 4，最终在 2014 年 3 月 19 日发布。虚幻引擎 4 从 2003 年就开始制作了。这台发动机比前一台进步了一大步。首先，它完全删除了 UnrealScript，用 C++代替了它。在虚幻的早期版本中，如果你想修改引擎来开发你的游戏，你必须使用 UnrealScript，这意味着学习一种新的语言。但是现在，如果你想修改引擎，你可以用 C++来完成。这对引擎程序员来说是一个巨大的进步，因为这意味着他们可以使用他们已经知道并喜爱的语言来修改和调整他们想要的任何东西。

不仅如此，该引擎的源代码也可供开发人员使用，并且可以从 GitHub 存储库中下载。这意味着开发人员可以完全控制引擎，几乎可以调整任何东西，包括物理、渲染和用户界面。

它还提供了一些所谓的热重装功能。通常情况下，当你想对游戏的代码进行更改时，你必须停止游戏，进行所需的更改，然后再次运行它，看看它如何影响游戏。但是，通过热重装功能，你可以在游戏中进行更改，而不必停止或暂停游戏。你在游戏代码中所做的任何更改都会立即更新，你可以实时看到它的效果。

您还可以在虚幻 4 上为各种平台开发游戏，包括 Xbox One、PlayStation 4(包括 Morpheus 项目)、Windows PC、Linux、Mac OS X、HTML 5、iOS 和 Android。它还为 Oculus Rift 提供支持。

Epic 做出的另一个重大改变是针对小型独立开发者的许可模式。更具体地说，要许可虚幻引擎的前一个版本虚幻开发工具包(UDK)，开发者必须支付 99 美元的许可费和该公司从销售中赚取至少 5 万美元后获得的 25%的版税。然而，在虚幻 4 中，他们改变了结构。截至 2015 年初，虚幻引擎 4 现已完全免费下载和使用。没有许可费，没有订阅，什么都没有。你可以下载它，在上面开发一个游戏，然后发布它，而不需要在引擎上花一分钱。收入超过 3000 美元后，你只需支付 5%的版税。

虚幻 4 提供的另一个重要功能是市场。市场是购买和上传资产的好地方。这些资产可以是动画、三维模型、材质、音效、预制游戏等等。对于没有资源或人力来开发这些资产的有志开发者来说，这也是一个好消息。他们可以简单地从市场购买所需的资产，并在游戏中使用它们。开发者也可以把自己的作品上传到 Marketplace 上，赚一些钱。

这本书面向对虚幻引擎 4 知之甚少甚至一无所知的初学者，它涵盖了如何使用它为安卓开发游戏。这本书将涵盖所有你需要知道的，以便开始。从最基本的，如如何下载和安装引擎，到更高级的，如如何上传你的成品到谷歌 Play 商店，都将被涵盖。我们将通过使用 UE4 一步一步制作一个自己的游戏来做到这一点。每一章都可以看作是我们制作游戏的一个步骤。这本书的结构是这样的，每一章都是前一章的延续，给读者一种流动的感觉。

这本书也不会使用任何其他软件(除了 Android SDK)，这样读者就不用为了做好准备而先下载几十个软件，只专注于引擎。所有资源，如材质、静态网格等，都是引擎本身中可用的资源。

# 这本书涵盖了什么

[第 1 章](1.html#aid-DB7S1 "Chapter 1. Getting Started with Unreal 4")*虚幻 4* 入门，教你如何下载安装虚幻引擎 4 和启动客户端。

[第二章](2.html#aid-I3QM1 "Chapter 2. Launching Unreal Engine 4")，*推出虚幻引擎 4* ，讨论什么是项目，如何创建新项目，编辑器是什么，它的 UI，以及一些你应该注意的热键。

[第 3 章](3.html#aid-MSDG1 "Chapter 3. Building the Game – First Steps")、*构建游戏–第一步*，处理 BSP 笔刷，教你如何使用它们遮挡关卡，如何在材质编辑器和内容浏览器中创建材质，以及如何在 UE4 中使用灯光。

[第 4 章](4.html#aid-VF2I2 "Chapter 4. Using Actors, Classes, and Volumes")、*使用演员、职业和体积*，查看模式面板中提供的各种类型的职业。这包括基础类、可视化类和卷，以及如何在我们的游戏中实现它们。

[第五章](5.html#aid-147LC2 "Chapter 5. Scripting with Blueprints")、*用蓝图脚本*，看如何在游戏中使用蓝图脚本。脚本是 UE4 的一个重要方面，因为没有交互性的游戏不是真正的游戏。我们还将了解最常用的蓝图类型。

[第六章](6.html#aid-19UOO1 "Chapter 6. Using Unreal Matinee")*使用虚幻日场*，看 UE4 提供的另一款电动工具，日场。我们将使用日场来创建游戏中必不可少的过场动画和其他动画。

[第七章](7.html#aid-1DOR01 "Chapter 7. Finishing, Packaging, and Publishing the Game")、*游戏*的整理、打包、发布，完成了一款功能齐全的游戏后剩下的唯一一件事。也就是完成游戏，打包，并在谷歌 Play 商店上发布。

[附录](8.html#aid-1O8H62 "Appendix A. What Next?")*接下来呢？*，暗示从这里去哪里。它处理各种地方，你可以找到文件和教程，以进一步发展你的技能在 UE4。

# 这本书你需要什么

对于本书，您需要:

*   虚幻引擎 4
*   安卓开发套件

这本书的主要目的是使用尽可能少的软件，这样你就可以只专注于引擎，而不必先下载几十个其他软件和程序来准备。

# 这本书是给谁的

本书面向开发者，他们对如何使用虚幻引擎 4 知之甚少甚至一无所知，希望用它为安卓开发游戏。

# 惯例

在这本书里，你会发现许多区分不同种类信息的文本风格。以下是这些风格的一些例子，以及对它们的含义的解释。

文本中的码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟网址、用户输入和推特句柄如下所示:“下一步是完成游戏，将其打包成`.apk`文件，并发布到谷歌 Play 商店。”

任何命令行输入或输出都编写如下:

```
keytool –genkey –v –keystore -*name of your project*.keystore –alias *alias_name* -keyalg RSA – keysize 2048 –validity 10000

```

**新名词**和**重要词语**以粗体显示。你在屏幕上看到的单词，例如在菜单或对话框中，会出现在这样的文本中:“从主页，点击屏幕右侧的**获得虚幻**按钮。”。

### 注

警告或重要提示会出现在这样的框中。

### 类型

提示和技巧是这样出现的。

# 读者反馈

我们随时欢迎读者的反馈。让我们知道你对这本书的看法——你喜欢或可能不喜欢什么。读者反馈对我们开发您真正能从中获得最大收益的标题非常重要。

要给我们发送一般反馈，只需向`<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`发送电子邮件，并通过您的消息主题提及书名。

如果你对某个主题有专业知识，并且对写作或投稿感兴趣，请参阅我们在[www.packtpub.com/authors](http://www.packtpub.com/authors)上的作者指南。

# 客户支持

现在，您已经自豪地拥有了一本书，我们有许多东西可以帮助您从购买中获得最大收益。

## 下载本书的彩色图片

我们还为您提供了一个 PDF 文件，其中包含本书中使用的截图/图表的彩色图像。彩色图像将帮助您更好地理解输出中的变化。您可以从[https://www . packtpub . com/sites/default/files/downloads/4363 ot _ color images . pdf](https://www.packtpub.com/sites/default/files/downloads/4363OT_ColorImages.pdf)下载此文件

## 勘误表

尽管我们尽了最大努力来确保我们内容的准确性，但错误还是会发生。如果你在我们的某本书里发现了错误——可能是文本或代码中的错误——如果你能向我们报告，我们将不胜感激。通过这样做，你可以让其他读者免受挫折，并帮助我们改进这本书的后续版本。如果您发现任何勘误表，请访问[http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误表** **提交** **表格**链接，并输入您的勘误表详情。一旦您的勘误表得到验证，您的提交将被接受，勘误表将上传到我们的网站上，或添加到该标题的勘误表部分下的任何现有勘误表列表中。通过从[http://www.packtpub.com/support](http://www.packtpub.com/support)中选择您的标题，可以查看任何现有的勘误表。

## 盗版

互联网上版权材质的盗版是所有媒体的一个持续问题。在 Packt，我们非常重视版权和许可证的保护。如果您在互联网上遇到任何形式的我们作品的非法拷贝，请立即向我们提供位置地址或网站名称，以便我们寻求补救。

请通过`<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`联系我们，获取疑似盗版资料的链接。

我们感谢您在保护我们作者方面的帮助，以及我们为您带来有价值内容的能力。

## 问题

如果您对本书的任何方面有问题，可以在`<[questions@packtpub.com](mailto:questions@packtpub.com)>`联系我们，我们将尽最大努力解决。