# 前言

安卓是当今最流行的移动操作系统之一。它使用最流行的编程语言 Java 作为构建所有类型应用程序的主要语言之一。与其他安卓书籍不同的是，这本书没有假设你有任何 Java 编程的先验知识，而是帮助你作为初学者开始构建安卓游戏。

这个新的、改进的、更新的第三版*通过构建安卓游戏学习 Java*向你展示了如何从头开始构建安卓游戏。在掌握了基础知识之后，随着您探索关键的 Java 主题，如变量、循环、方法、**面向对象编程** ( **OOP** )和设计模式，包括最新的代码和有用的示例，难度会稳步增加。在每一个阶段，你都会通过开发一款游戏，将所学付诸实践。随着你的前进，你将建立游戏的风格，如子猎人，复古乒乓，子弹地狱，经典蛇，和滚动射手。

到本书结束时，您不仅将对 Java 和安卓基础知识有一个坚实的理解，而且还将为安卓平台开发五个很酷的游戏。

# 这本书是给谁的

*通过构建安卓游戏学习 Java*适合任何刚接触 Java、安卓或游戏编程，想开发安卓游戏的人。这本书也为那些已经有在安卓或任何其他平台上使用 Java 经验但没有游戏开发经验的人提供了一个复习资料。

# 这本书涵盖了什么

[*第一章*](01.html#_idTextAnchor013)*Java、安卓和游戏开发*，帮助你发现安卓到底有什么了不起，安卓和 Java 到底是什么，它们是如何工作和互补的。快速前进，我们将设置所需的软件，然后建立和部署第一场比赛的大纲。

[*第 2 章*](02.html#_idTextAnchor048)*Java–第一次接触*，详细介绍了 Sub' Hunter 的具体玩法，以及我们完成的代码实现它所需的步骤/流程。我们还将学习用于记录代码的 Java 代码注释，对构建代码的方法进行简单的初步浏览，并对面向对象进行更简单的初步浏览，这将开始揭示 Java 和安卓应用编程接口的力量。

[*第三章*](03.html#_idTextAnchor065)*变量、运算符和表达式*，教你 Java 变量，让我们给我们的游戏它需要的数据。潜艇的位置和是否被击中等问题将很快被编码。此外，运算符和表达式的使用将使我们能够在游戏执行时改变和数学处理这些数据。

[*第 4 章*](04.html#_idTextAnchor086)*用 Java 方法构造代码*详细介绍了方法，因为虽然我们知道可以调用它们来让它们执行代码，但它们还有更多内容到目前为止还没有讨论过。

[*第五章*](05.html#_idTextAnchor101)*安卓画布类——绘制到屏幕*，完全是关于安卓`Canvas`类和一些相关的类，比如`Paint``Color`。这些课程结合在一起，在屏幕绘画方面带来了巨大的力量。了解`Canvas`还将教会我们使用任何课程的基本知识。

[*第 6 章*](06.html#_idTextAnchor120)*用循环重复代码块*，教你 Java 循环，它使我们能够以可控的方式重复代码的各个部分。Java 中的循环有几种不同的形式，我们将学习如何使用它们，然后在本书的剩余部分，我们将很好地使用它们。

[*第七章*](07.html#_idTextAnchor131)*用 Java If、Else 和 Switch* 做决策，帮助你了解更多关于控制游戏执行流程的知识，我们也会对 Sub' Hunter 游戏做最后的润色，让它可以玩。

[*第八章*](08.html#_idTextAnchor147)*面向对象编程*，让你掌握面向对象编程以及如何使用它。我们将开始编写自己的可重用类，并研究一些更高级的 OOP，例如抽象类和接口。将讨论封装、继承和多态性等主题。到这一章结束时，我们将对 OOP 有足够的了解，从而开始 Pong 游戏。

[*第九章*](09.html#_idTextAnchor180)*游戏引擎、线程和游戏循环*，帮助你理解游戏引擎是如何融合在一起的。在这一章的最后，我们将看到一个令人兴奋的空白屏幕，它在真实设备上以每秒 60 帧的速度绘制调试文本，尽管在模拟器上可能会更少。此外，这个游戏引擎代码将被用作未来项目的近似模板(我们将根据每个项目进行改进)，使未来游戏的实现更快、更容易。

[*第 10 章*](10.html#_idTextAnchor205)*编码蝙蝠和球*，让你给`Bat`和`Ball`类添加代码。在这一章的结尾，我们将有一个移动的球和一个可移动的球棒。

[*第 11 章*](11.html#_idTextAnchor225)*碰撞、音效、支持不同版本的安卓*，让你拥有一个完全工作且嘟嘟嘟的 Pong 游戏实现。我们将从一些碰撞检测理论开始这一章，这些理论将在这一章的结尾付诸实践。在这一点上，我们可以把我们所学的一切都投入到生产更多的代码中，让乒乓球反弹和发出哔哔声，并对游戏进行最后的润色。

[*第 12 章*](12.html#_idTextAnchor247)*用数组处理大量数据*向您介绍了 Java 数组，它允许我们以有组织和高效的方式处理潜在的大量数据。一旦我们习惯于处理数据数组，我们将看到如何不费力地生成数百或数千个新的`Bullet`类实例。

[*第十三章*](13.html#_idTextAnchor273)*位图图形和测量时间*，帮助你理解我们如何使用`Canvas`类绘制位图图形——毕竟，我们的角色 Bob 不仅仅是一个块或一条线。我们还将对鲍勃进行编码，并实现他的传送功能、盾牌和碰撞检测。为了结束游戏，我们将添加一个平视显示器，测量时间，并编写一个解决方案来记住最长(最好)的时间。

[*第 14 章*](14.html#_idTextAnchor282)*Java Collections，the Stack，the Heap，以及垃圾收集器*，为打造一款外观真实的克隆经典 Snake 游戏开了个好头。也是时候让我们更好地理解安卓机罩下正在发生的事情了。我们经常参考参考文献，但是参考文献到底是什么，它如何影响我们如何构建游戏？

[*第十五章*](15.html#_idTextAnchor305)*安卓本地化——你好！*，教你如何让你的游戏更容易被数以百万计的潜在玩家访问。我们将看到如何添加其他语言。我们还将看到向我们的游戏添加文本的正确方法，并使用该功能使 Snake 游戏多语言化。这包括使用字符串资源，而不是像本书到目前为止所做的那样，直接在代码中硬编码字符串。

[*第 16 章*](16.html#_idTextAnchor313)*集合与枚举*，将部分实用，部分理论。首先，我们将编码并使用`Apple`类，为晚餐准备好我们的苹果产卵。之后，我们将花一点时间来了解新的 Java 概念，例如`ArrayList`和枚举(枚举的简称)。这两个新主题将会给我们额外的知识来完成下一章的游戏(主要是`Snake`课)。

[*第 17 章*](17.html#_idTextAnchor328)*操纵位图和编码蛇类*，将完成蛇游戏并使其完全可玩。我们将很好地利用我们所学的`ArrayList`和枚举，我们将看到将所有特定于对象的绘图代码封装到对象本身的好处。此外，我们将学习如何操作位图，以便我们可以旋转和反转位图，使其面向我们需要的任何方向。

[*第十八章*](18.html#_idTextAnchor345)*设计模式介绍等等！*，启动滚动射手项目。这个项目和下一个项目将探索多种方法来构造我们的 Java 代码，使我们的代码高效、可重用，并且减少错误。当我们为一个特定的、先前设计的解决方案/结构编写代码时，我们使用的是一种设计模式。

[*第 19 章*](19.html#_idTextAnchor378)*用观察者模式、多点触控和构建粒子系统*收听，让您编码并使用我们的第一个设计模式。观察者模式正是它听起来的样子。我们将编码一些确实会观察另一个类的类。我们将使用这种模式来允许`GameEngine`类通知其他类何时需要处理用户输入。这样，单个类可以处理用户输入的不同方面。此外，我们将对粒子系统进行编码。粒子系统包含数百甚至数千个用于创建效果的图形对象。我们的粒子系统看起来会像爆炸。

[*第 20 章*](20.html#_idTextAnchor397)*更多模式，一个滚动背景，以及建造玩家之船*，是最长的章节之一，在我们的设备/模拟器上看到结果之前，我们有相当多的工作和理论要完成。然而，你将会学到的东西，然后实施将会给你的技术，大大增加你能够建立的游戏的复杂性。一旦你理解了什么是实体组件系统，以及如何使用工厂模式构建游戏对象，你将能够将几乎任何你能想象的游戏对象添加到你的游戏中。如果你买这本书不仅仅是为了学习 Java，而是因为你想设计和开发自己的电子游戏，那么这本书的这一部分就是为你准备的。

[*第 21 章*](21.html#_idTextAnchor441)*完成滚动射击游戏*，将完成滚动射击游戏。我们将通过对剩余的组件类进行编码来实现这一点，这些组件类代表了三种不同类型的外星人以及他们可以向玩家发射的激光。一旦我们完成了组件类，我们将对`GameEngine`、`Level`和`GameObjectFactory`类进行微小的修改，以适应这些新完成的实体。完成游戏的最后一步是碰撞检测，我们将添加到`PhysicsEngine`类中。

[*第二十二章*](22.html#_idTextAnchor456)*下一步怎么办？*，只是涵盖了一些想法和指针，你可能会喜欢看，然后匆忙离开，制作自己的游戏。

# 为了充分利用这本书

在开始阅读本书之前，您需要的技术要求如下:

**窗户:**

*   微软视窗 7/8/10 (64 位)
*   至少 4 GB 内存；建议使用 8 GB 内存
*   至少有 2 GB 的可用磁盘空间；推荐 4gb(IDE 为 500 MB，安卓软件开发工具包和仿真器系统映像为 1.5 GB)
*   最小屏幕分辨率为 1，280 x 800

MAC:t1]

*   Mac OS X 10.10(约塞米蒂)或更高，最高可达 10.14 (macOS Mojave)
*   至少 4 GB 内存；建议使用 8 GB 内存
*   至少有 2 GB 的可用磁盘空间；推荐 4gb(IDE 为 500 MB，安卓软件开发工具包和仿真器系统映像为 1.5 GB)
*   最小屏幕分辨率为 1，280 x 800

**Linux:**

*   GNOME or KDE desktop

    在基于 Debian 的 gLinux 上测试

*   能够运行 32 位应用程序的 64 位发行版
*   GNU C 库(glibc) 2.19 或更高版本
*   至少 4 GB 内存；建议使用 8 GB 内存
*   至少有 2 GB 的可用磁盘空间；推荐 4gb(IDE 为 500 MB，安卓软件开发工具包和仿真器系统映像为 1.5 GB)
*   最小屏幕分辨率为 1，280 x 800

*完成本书不需要额外购买。*

**如果您正在使用本书的数字版本，我们建议您自己键入代码或通过 GitHub 存储库访问代码(下一节中提供了链接)。这样做将帮助您避免任何与复制/粘贴代码相关的潜在错误。**

# 下载示例代码文件

你可以从你在[www.packt.com](http://www.packt.com)的账户下载这本书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[www.packtpub.com/support](http://www.packtpub.com/support)并注册将文件直接通过电子邮件发送给您。

您可以按照以下步骤下载代码文件:

1.  登录或注册[www.packt.com](http://www.packt.com)。
2.  选择**支持**选项卡。
3.  点击**代码下载**。
4.  在**搜索**框中输入图书名称，并按照屏幕指示进行操作。

下载文件后，请确保使用最新版本的解压缩文件夹:

*   视窗系统的 WinRAR/7-Zip
*   zipeg/izp/un ARX for MAC
*   适用于 Linux 的 7-Zip/PeaZip

这本书的代码包也在 GitHub 上托管在[https://GitHub . com/PacktPublishing/Learning-Java-by-Building-Android-Games-第三版](https://github.com/PacktPublishing/Learning-Java-by-Building-Android-Games-Third-Edition)。如果代码有更新，它将在现有的 GitHub 存储库中更新。

我们还有来自 https://github.com/PacktPublishing/丰富的书籍和视频目录的其他代码包。看看他们！

# 使用的约定

本书通篇使用了许多文本约定。

`Code in text`:表示文本中的码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟网址、用户输入和推特句柄。这里有一个例子:“这个小应用的完整代码可以在`Chapter 4/Method overloading`文件夹的 GitHub repo 上找到。”

代码块设置如下:

```java
private void setCoordinates(int x, int y){
	// code to set coordinates goes here
}
```

当我们希望将您的注意力吸引到代码块的特定部分时，相关的行或项目以粗体显示:

```java
int addAToB(int a, int b){
	int answer = a + b;
 return answer;
}
```

**粗体**:表示一个新的术语、一个重要的单词或者你在屏幕上看到的单词。例如，菜单或对话框中的单词像这样出现在文本中。这里有一个例子:“从**管理**面板选择**系统信息**

提示或重要注意事项

像这样出现。

# 取得联系

我们随时欢迎读者的反馈。

**一般反馈**:如果您对本书的任何方面有疑问，请在您的信息主题中提及书名，并通过`customercare@packtpub.com.`向我们发送电子邮件

**勘误表**:虽然我们已经尽了最大的努力来保证内容的准确性，但是错误还是会发生。如果你在这本书里发现了一个错误，如果你能向我们报告，我们将不胜感激。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)，选择您的图书，点击勘误表提交链接，并输入详细信息。

**盗版**:如果您在互联网上遇到任何形式的我们作品的非法拷贝，如果您能提供我们的位置地址或网站名称，我们将不胜感激。请通过`copyright@packt.com`联系我们，并提供材料链接。

**如果你有兴趣成为一名作者**:如果有一个你有专长的话题，你有兴趣写或者投稿一本书，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 评论

请留下评论。一旦你阅读并使用了这本书，为什么不在你购买它的网站上留下评论呢？然后，潜在的读者可以看到并使用您不带偏见的意见来做出购买决定，我们在 Packt 可以了解您对我们产品的看法，我们的作者可以看到您对他们的书的反馈。谢谢大家！

更多关于 Packt 的信息，请访问[packt.com](http://packt.com)。