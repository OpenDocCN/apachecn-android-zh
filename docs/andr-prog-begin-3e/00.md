# 前言

你是否试图开始编程生涯，但还没有找到正确的方法？你对一个应用有很好的想法，但不知道如何实现它吗？如果是这样，那么这本书就是给你的！

这次更新的第三版*安卓初学者编程*将是你从头开始创建安卓应用的伴侣。我们将向您介绍安卓环境中编程的所有基本概念，从 Java 的基础知识到使用安卓应用编程接口。所有示例都使用最新的应用编程接口类，并且是从安卓工作室内部创建的，安卓工作室是官方的安卓开发环境，有助于加强您的应用程序开发过程。

在这门速成课程之后，我们将深入研究安卓编程，您将学习如何通过片段创建具有专业标准用户界面的应用程序，并使用 SQLite 存储您的用户数据。此外，您将看到如何使您的应用程序多语言，用手指在屏幕上绘图，以及处理图形、声音和动画。

到本书结束时，您将准备好开始用安卓和 Java 构建自己的定制应用程序。

# 这本书是给谁的

如果你对 Java、Android 或编程完全陌生，并且想制作 Android 应用程序，这本书是为你准备的。这本书也将作为那些已经有在安卓系统上使用 Java 经验的人的复习资料，使你能够通过早期项目提升你的知识并取得快速进展。

# 这本书涵盖了什么

[*第一章*](01.html#_idTextAnchor014)*初学安卓和 Java* ，会看到你没有浪费任何时间在上手开发安卓应用。我们将看看安卓有什么了不起的，安卓和 Java 到底是什么，它们是如何工作和相互补充的，这对我们作为未来的开发人员意味着什么。快速前进，我们将设置所需的软件，以便我们可以构建和部署一个简单的第一个应用程序。

[*第二章*](02.html#_idTextAnchor043)*第一次接触:Java、XML 和 UI 设计器* ，解释了在这个阶段，我们是如何拥有一个运行良好的 Android 开发环境的，我们已经构建并部署了我们的第一个应用。我们需要探索这些自动生成的代码，这样我们就可以开始理解 Android，然后学习如何在这个有用的模板上构建

[*第三章*](03.html#_idTextAnchor064)*探索安卓工作室和项目结构*，讲解如何再创建和运行两个安卓项目。这些练习的目的是更深入地探索 Android Studio 和 Android 项目的结构。除了了解我们项目的组成之外，确保我们从模拟器中获得最大收益也是有益的。

[*第四章*](04.html#_idTextAnchor076)*开始布局和材料设计*，涵盖了另外三个布局的构建——仍然相当简单，但比我们目前所做的工作更进一步。在动手之前，我们将快速介绍一下材料设计的概念。我们还将介绍不同类型的布局，称为线性布局、约束布局和表格布局。我们还将编写一些 Java 代码，在单个应用程序/项目中的不同布局之间进行切换。这是第一个在一个整洁的包裹中链接多个主题的主要应用程序。

[*第五章*](05.html#_idTextAnchor101)*带 CardView 和 ScrollView 的美丽布局*，是我们花点时间关注 Java 和面向对象编程之前关于布局的最后一章。我们将形式化我们已经遇到的一些不同属性的学习，我们还将引入两个更酷的布局:ScrollView 和 CardView。最后，我们将在平板电脑模拟器上运行一个 CardView 项目。

[*第六章*](06.html#_idTextAnchor119)*安卓生命周期*，将会看到我们熟悉一款安卓应用的生命周期。生命周期是所有安卓应用程序与安卓操作系统交互的方式。我们将看到应用程序经历的生命周期的各个阶段，从创建到销毁，以及这如何帮助我们知道将我们的 Java 代码放在哪里，这取决于我们试图实现什么。

[*第 7 章*](07.html#_idTextAnchor134)*Java 变量、运算符和表达式*涵盖了 Java 的核心基础:进入我们创建的类和方法的代码，以及代码所作用的数据。在本章中，我们将重点讨论数据。我们将深入学习如何编写自己的 Java 代码。到这一章结束时，您将可以轻松地编写在安卓系统中创建和使用数据的 Java 代码。

[*第八章*](08.html#_idTextAnchor155)*Java 决策和循环*解释了我们如何根据变量的值采取行动。我们将用`if`、`else`和`switch`来研究用 Java 做决策。我们还将使用`while`、`do`–`while`、`for`和`break`查看 Java 中的循环。

[*第九章*](09.html#_idTextAnchor169)*学习 Java 方法*详细介绍了方法，因为虽然我们知道您可以调用它们来让它们执行代码，但是它们比我们迄今为止讨论的还要多。

[*第 10 章*](10.html#_idTextAnchor187)*面向对象编程*解释了在 Java 中，类是一切事物的基础。我们将开始理解为什么早在 20 世纪 90 年代早期，太阳微系统公司的软件工程师们用他们的方式制造了 Java。我们已经讨论过重用其他人的代码，特别是安卓应用编程接口，但是在本章中，我们将真正了解这是如何工作的，并了解面向对象编程以及如何使用它。

[*第十一章*](11.html#_idTextAnchor201)*更多面向对象编程*，是我们旋风之旅(理论与实践)进入 OOP 的第二部分。我们已经简要讨论了封装、继承和多态性的概念，但是在本章中，我们将在一些演示应用程序中看到它们的实际应用。虽然工作示例将以最简单的形式展示这些概念，但它仍然是通过我们的 Java 代码控制 XML 布局的重要垫脚石。

[*第 12 章*](12.html#_idTextAnchor218)*堆栈、堆和垃圾收集器*揭示了 Java 和我们的 XML 布局之间缺失的联系，给我们留下了向我们的应用程序添加各种小部件的能力，就像我们以前所做的那样，但是这次我们将能够通过我们的 Java 代码来控制它们。在本章中，我们将控制一些相当简单的用户界面元素，比如按钮和文本视图。为了使我们能够理解正在发生的事情，我们需要更多地了解安卓设备中的内存及其两个方面——堆栈和堆。

[*第 13 章*](13.html#_idTextAnchor228)*匿名类–将安卓小部件带入生活*解释了，既然我们已经很好地概述了安卓应用的布局和编码，以及我们对面向对象编程和如何从我们的 Java 代码中操纵 UI 的新见解，我们准备好在匿名类旁边实验更多的小部件。在这一章中，我们将回到安卓工作室的调色板，看看六个我们从未见过或尚未完全使用的小部件，从而丰富我们的内容。一旦我们这样做了，我们将把它们都放入一个布局中，并练习用 Java 代码操纵它们。

[*第十四章*](14.html#_idTextAnchor249)*安卓对话窗口*，讲述了如何为用户呈现一个弹出的对话窗口。然后，我们可以把所有我们知道的东西放入我们第一个主要应用程序的第一阶段，即“自我笔记”。接下来我们还将在本章及以下四章(一直到 [*第 18 章*](18.html#_idTextAnchor320) )学习新的 Android 和 Java 功能，然后利用我们新获得的知识来增强 Note to self app 的每次使用。在每一章中，我们还将从这个主应用程序中选择一些较小的应用程序。

[*第 15 章*](15.html#_idTextAnchor267)*数组、地图和随机数*讲述了 Java 数组，它允许我们以有组织和高效的方式操纵潜在的海量数据。我们还将使用一个与数组密切相关的 Java 关系，即数组列表，并看看它们之间的区别。一旦我们习惯于处理大量数据，我们将看到安卓应用编程接口有什么，以帮助我们轻松地将新发现的数据处理技能与用户界面联系起来，而不会出汗。

[*第十六章*](16.html#_idTextAnchor285)*适配器和回收器*，首先涵盖了适配器和列表的理论。我们将学习如何在 Java 代码中扩展 RecyclerAdapter，并添加一个 RecyclerView，它充当我们 UI 的列表，然后，通过 Android API 的明显魔力，将它们绑定在一起，以便 RecyclerView 显示 RecyclerAdapter 的内容，并允许用户滚动内容。

[*第 17 章*](17.html#_idTextAnchor300)*数据持久化和共享*研究了几种不同的方法将数据保存到安卓设备的永久存储中。此外，我们将首次在我们的应用程序中添加第二个活动。在新的活动中实现一个单独的“屏幕”，比如我们应用程序中的设置屏幕，通常是有意义的。我们将看到如何添加一个活动并在它们之间导航用户。

[*第 18 章*](18.html#_idTextAnchor320)*本地化*，说明如何添加附加语言。当涉及到添加多种语言时，我们将看到通过字符串资源以正确的方式添加文本对我们有什么好处。

[*第 19 章*](19.html#_idTextAnchor331)*动画和插值*，讲述了如何使用动画类让我们的 UI 少一点静态，多一点趣味性。正如我们所料，安卓应用编程接口将允许我们用相对简单的代码做一些相当高级的事情，动画类也是如此。

[*第二十章*](20.html#_idTextAnchor345)*绘制图形*，专门介绍安卓 Canvas 类以及一些相关的类，比如 Paint、Color、Bitmap。这些课程结合在一起，在屏幕绘画方面带来了巨大的力量。如果我们想制作一个绘图应用程序，绘制图表，或者可能是一个游戏，我们需要控制安卓设备必须提供的每个像素。

[*第 21 章*](21.html#_idTextAnchor366)*线程并启动实时绘图应用*，开始下一个应用。这个应用程序将是一个儿童风格的绘图应用程序，用户可以用手指在屏幕上绘图。然而，这个绘图应用程序会略有不同。用户绘制的线将包括爆炸成数千块的粒子系统。我们将该项目称为*实景图*。

[*第 22 章*](22.html#_idTextAnchor386)*粒子系统和处理屏幕触摸*解释了如何创建将在这个实时系统中存在和进化的实体，就好像它们有自己的想法，并形成用户可以实现的图形外观。我们还将通过学习如何响应与屏幕的交互来了解用户如何绘制这些实体。这不同于在用户界面布局中与小部件交互。

[*第 23 章*](23.html#_idTextAnchor400)*支持不同版本的安卓、音效和 Spinner Widget* ，解释了我们如何检测和处理不同版本的安卓。然后，我们将能够研究 SoundPool 类和我们使用它的不同方式，这取决于应用程序运行的安卓版本。在这一点上，我们可以把我们所学的一切都投入到制作一个很酷的声音演示应用程序中，该应用程序还将向我们介绍一个新的用户界面小部件——微调器。

[*第 24 章*](24.html#_idTextAnchor411)*设计模式、多种布局和片段*，比书中目前为止的任何东西都更关注你未来的应用。我们将研究 Java 和 Android 的几个方面，您可以将其用作框架或模板，在保持代码可管理的同时，制作越来越令人兴奋和复杂的应用程序。此外，我将建议进一步研究的领域，这些领域在本书中根本没有足够的空间来触及表面。

[*第 25 章*](25.html#_idTextAnchor430)*构建一个简单的图片库应用程序*，解释了如何使用图片分页和滑动来创建一个应用程序，就像你可能在图片库应用程序中找到的那样。此外，使用 RecyclerView 小部件，我们将有选择地只加载当前页面所需的数据，也许还会加载上一页和下一页的数据。

[*第 26 章*](26.html#_idTextAnchor439)*带导航抽屉和碎片的高级 UI*，涵盖了(可以说)最高级的 UI。创建新项目时，只需选择它作为模板，即可创建导航视图。然后，我们将检查自动生成的代码，并学习如何与之交互。然后，我们将使用我们对 Fragment 的所有了解，用不同的行为和视图填充每个“抽屉”。

[*第 27 章*](27.html#_idTextAnchor462)*安卓数据库*解释了，如果我们要制作为用户提供重要功能的应用程序，那么几乎可以肯定我们需要一种方法来管理、存储和过滤大量数据。JSON 和 SharedPreferences 类有它们的位置，但是在某些时候，我们需要继续使用真实的数据库来实现真实的解决方案。安卓系统使用 SQLite 数据库管理系统，正如你所料，有一个应用编程接口让它尽可能简单。

[*第 28 章*](28.html#_idTextAnchor478)*出发前的一次快速聊天*，让我们的旅程画上了句号。这一章只是包含了一些想法和建议，你可能会喜欢在匆忙离开并制作自己的应用程序之前看看。

# 为了充分利用这本书

要成功完成这本书，你不需要任何经验。如果你对你选择的操作系统(Windows、macOS 或 Linux)有信心，你可以在学习 Java 编程语言的同时学习制作安卓应用。学习开发专业质量的应用程序是一段旅程，任何人都可以踏上这条旅程，并想呆多久就呆多久。

如果你确实有以前的编程(Java 或任何其他语言)、Android 或其他开发经验，那么你将在前面的章节中取得更快的进展。

**如果您正在使用本书的数字版本，我们建议您自己键入代码或通过 GitHub 存储库访问代码(下一节中提供了链接)。这样做将帮助您避免任何与复制和粘贴代码相关的潜在错误。**

# 下载示例代码文件

你可以从[https://GitHub . com/PacktPublishing/Android-初学者编程-第三版](https://github.com/PacktPublishing/Android-Programming-for-Beginners-Third-Edition)下载这本书的示例代码文件。如果代码有更新，它将在现有的 GitHub 存储库中更新。

我们还有来自 https://github.com/PacktPublishing/丰富的书籍和视频目录的其他代码包。看看他们！

# 下载彩色图片

我们还提供了一个 PDF 文件，其中包含本书中使用的截图/图表的彩色图像。可以在这里下载:[https://static . packt-cdn . com/downloads/9781800563438 _ color images . pdf](https://static.packt-cdn.com/downloads/9781800563438_ColorImages.pdf)。

# 使用的约定

本书通篇使用了许多文本约定。

`Code in text`:表示文本中的码字、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟网址、用户输入和推特句柄。这里有一个例子:“最后一个成员变量是一个`LayoutInflater`实例，它将用于膨胀`pager_item.xml`的每个实例。”

代码块设置如下:

```
@Override
public int getCount() {
   return images.length;
}
```

当我们希望将您的注意力吸引到代码块的特定部分时，相关的行或项目以粗体显示:

```
import androidx.appcompat.app.AppCompatActivity;
import androidx.viewpager.widget.PagerAdapter;
import androidx.viewpager.widget.ViewPager;
```

任何命令行输入或输出都编写如下:

```
$ mkdir css
$ cd css
```

**粗体**:表示一个新的术语，一个重要的单词，或者你在屏幕上看到的单词。例如，菜单或对话框中的单词像这样出现在文本中。这里有一个例子:“从**管理**面板选择**系统信息**

提示或重要注意事项

像这样出现。

# 取得联系

我们随时欢迎读者的反馈。

**一般反馈**:如果您对本书的任何方面有疑问，请在您的信息主题中提及书名，并通过`customercare@packtpub.com.`向我们发送电子邮件

**勘误表**:虽然我们已经尽了最大的努力来保证内容的准确性，但是错误还是会发生。如果你在这本书里发现了一个错误，如果你能向我们报告，我们将不胜感激。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)，选择您的图书，点击勘误表提交链接，并输入详细信息。

**盗版**:如果您在互联网上遇到任何形式的我们作品的非法拷贝，如果您能提供我们的位置地址或网站名称，我们将不胜感激。请通过`copyright@packt.com`联系我们，并提供材料链接。

**如果你有兴趣成为一名作者**:如果有一个你有专长的话题，你有兴趣写或者投稿一本书，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 评论

请留下评论。一旦你阅读并使用了这本书，为什么不在你购买它的网站上留下评论呢？然后，潜在的读者可以看到并使用您不带偏见的意见来做出购买决定，我们在 Packt 可以了解您对我们产品的看法，我们的作者可以看到您对他们的书的反馈。谢谢大家！

更多关于 Packt 的信息，请访问[packt.com](http://packt.com)。